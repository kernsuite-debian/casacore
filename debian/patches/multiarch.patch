Author: Ole Streicher <debian@liska.ath.cx>
Description: Use Mutliarch compliant library install path
--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -52,6 +52,9 @@
 option (USE_THREADS "" NO)
 option (USE_OPENMP "" NO)
 
+# By default do not use Multi-Arch
+option (LIBRARY_OUTPUT_PATH "" lib)
+
 # Define the compiler flags to be used.
 # Note: -Wshadow and -Wunreachable-code give (too) many warnings.
 # Casacore uses longlong, so no warnings for it.
--- a/fits/CMakeLists.txt
+++ b/fits/CMakeLists.txt
@@ -34,7 +34,7 @@
 
 install (TARGETS casa_fits
 RUNTIME DESTINATION bin
-LIBRARY DESTINATION lib
+LIBRARY DESTINATION ${LIBRARY_OUTPUT_PATH}
 ARCHIVE DESTINATION lib
 LIBRARY PERMISSIONS OWNER_READ OWNER_WRITE OWNER_EXECUTE GROUP_READ GROUP_EXECUTE WORLD_READ WORLD_EXECUTE
 )
--- a/casa/CMakeLists.txt
+++ b/casa/CMakeLists.txt
@@ -209,7 +209,7 @@
 
 install (
 TARGETS casa_casa
-LIBRARY DESTINATION lib
+LIBRARY DESTINATION ${LIBRARY_OUTPUT_PATH}
 ARCHIVE DESTINATION lib
 LIBRARY PERMISSIONS OWNER_READ OWNER_WRITE OWNER_EXECUTE GROUP_READ GROUP_EXECUTE WORLD_READ WORLD_EXECUTE
 )
--- a/components/CMakeLists.txt
+++ b/components/CMakeLists.txt
@@ -42,7 +42,7 @@
 install (
 TARGETS casa_components
 RUNTIME DESTINATION bin
-LIBRARY DESTINATION lib
+LIBRARY DESTINATION ${LIBRARY_OUTPUT_PATH}
 ARCHIVE DESTINATION lib
 LIBRARY PERMISSIONS OWNER_READ OWNER_WRITE OWNER_EXECUTE GROUP_READ GROUP_EXECUTE WORLD_READ WORLD_EXECUTE
 )
--- a/coordinates/CMakeLists.txt
+++ b/coordinates/CMakeLists.txt
@@ -25,7 +25,7 @@
 
 install (TARGETS casa_coordinates
 RUNTIME DESTINATION bin
-LIBRARY DESTINATION lib
+LIBRARY DESTINATION ${LIBRARY_OUTPUT_PATH}
 ARCHIVE DESTINATION lib
 LIBRARY PERMISSIONS OWNER_READ OWNER_WRITE OWNER_EXECUTE GROUP_READ GROUP_EXECUTE WORLD_READ WORLD_EXECUTE
 )
--- a/derivedmscal/CMakeLists.txt
+++ b/derivedmscal/CMakeLists.txt
@@ -14,7 +14,7 @@
 
 install (TARGETS casa_derivedmscal
 RUNTIME DESTINATION bin
-LIBRARY DESTINATION lib
+LIBRARY DESTINATION ${LIBRARY_OUTPUT_PATH}
 ARCHIVE DESTINATION lib
 LIBRARY PERMISSIONS OWNER_READ OWNER_WRITE OWNER_EXECUTE GROUP_READ GROUP_EXECUTE WORLD_READ WORLD_EXECUTE
 )
--- a/images/CMakeLists.txt
+++ b/images/CMakeLists.txt
@@ -73,7 +73,7 @@
 install (
 TARGETS casa_images
 RUNTIME DESTINATION bin
-LIBRARY DESTINATION lib
+LIBRARY DESTINATION ${LIBRARY_OUTPUT_PATH}
 ARCHIVE DESTINATION lib
 LIBRARY PERMISSIONS OWNER_READ OWNER_WRITE OWNER_EXECUTE GROUP_READ GROUP_EXECUTE WORLD_READ WORLD_EXECUTE
 )
--- a/lattices/CMakeLists.txt
+++ b/lattices/CMakeLists.txt
@@ -67,7 +67,7 @@
 
 install (TARGETS casa_lattices
 RUNTIME DESTINATION bin
-LIBRARY DESTINATION lib
+LIBRARY DESTINATION ${LIBRARY_OUTPUT_PATH}
 ARCHIVE DESTINATION lib
 LIBRARY PERMISSIONS OWNER_READ OWNER_WRITE OWNER_EXECUTE GROUP_READ GROUP_EXECUTE WORLD_READ WORLD_EXECUTE
 )
--- a/meas/CMakeLists.txt
+++ b/meas/CMakeLists.txt
@@ -16,7 +16,7 @@
 
 install (TARGETS casa_meas
 RUNTIME DESTINATION bin
-LIBRARY DESTINATION lib
+LIBRARY DESTINATION ${LIBRARY_OUTPUT_PATH}
 ARCHIVE DESTINATION lib
 LIBRARY PERMISSIONS OWNER_READ OWNER_WRITE OWNER_EXECUTE GROUP_READ GROUP_EXECUTE WORLD_READ WORLD_EXECUTE
 )
--- a/measures/CMakeLists.txt
+++ b/measures/CMakeLists.txt
@@ -69,7 +69,7 @@
 install (
 TARGETS casa_measures
 RUNTIME DESTINATION bin
-LIBRARY DESTINATION lib
+LIBRARY DESTINATION ${LIBRARY_OUTPUT_PATH}
 ARCHIVE DESTINATION lib
 LIBRARY PERMISSIONS OWNER_READ OWNER_WRITE OWNER_EXECUTE GROUP_READ GROUP_EXECUTE WORLD_READ WORLD_EXECUTE
 )
--- a/mirlib/CMakeLists.txt
+++ b/mirlib/CMakeLists.txt
@@ -22,7 +22,7 @@
 install (
 TARGETS casa_mirlib
 RUNTIME DESTINATION bin
-LIBRARY DESTINATION lib
+LIBRARY DESTINATION ${LIBRARY_OUTPUT_PATH}
 ARCHIVE DESTINATION lib
 LIBRARY PERMISSIONS OWNER_READ OWNER_WRITE OWNER_EXECUTE GROUP_READ GROUP_EXECUTE WORLD_READ WORLD_EXECUTE
 )
--- a/ms/CMakeLists.txt
+++ b/ms/CMakeLists.txt
@@ -146,7 +146,7 @@
 
 install (TARGETS casa_ms
 RUNTIME DESTINATION bin
-LIBRARY DESTINATION lib
+LIBRARY DESTINATION ${LIBRARY_OUTPUT_PATH}
 ARCHIVE DESTINATION lib
 LIBRARY PERMISSIONS OWNER_READ OWNER_WRITE OWNER_EXECUTE GROUP_READ GROUP_EXECUTE WORLD_READ WORLD_EXECUTE
 )
--- a/msfits/CMakeLists.txt
+++ b/msfits/CMakeLists.txt
@@ -30,7 +30,7 @@
 
 install (
 TARGETS casa_msfits
-LIBRARY DESTINATION lib
+LIBRARY DESTINATION ${LIBRARY_OUTPUT_PATH}
 ARCHIVE DESTINATION lib
 LIBRARY PERMISSIONS OWNER_READ OWNER_WRITE OWNER_EXECUTE GROUP_READ GROUP_EXECUTE WORLD_READ WORLD_EXECUTE
 )
--- a/scimath/CMakeLists.txt
+++ b/scimath/CMakeLists.txt
@@ -38,7 +38,7 @@
 
 install (TARGETS casa_scimath
 RUNTIME DESTINATION bin
-LIBRARY DESTINATION lib
+LIBRARY DESTINATION ${LIBRARY_OUTPUT_PATH}
 ARCHIVE DESTINATION lib
 LIBRARY PERMISSIONS OWNER_READ OWNER_WRITE OWNER_EXECUTE GROUP_READ GROUP_WRITE GROUP_EXECUTE WORLD_READ WORLD_EXECUTE
 )
--- a/scimath_f/CMakeLists.txt
+++ b/scimath_f/CMakeLists.txt
@@ -34,7 +34,7 @@
 
 install (
 TARGETS casa_scimath_f
-LIBRARY DESTINATION lib
+LIBRARY DESTINATION ${LIBRARY_OUTPUT_PATH}
 ARCHIVE DESTINATION lib
 LIBRARY PERMISSIONS OWNER_READ OWNER_WRITE OWNER_EXECUTE GROUP_READ GROUP_EXECUTE WORLD_READ WORLD_EXECUTE
 )
--- a/tables/CMakeLists.txt
+++ b/tables/CMakeLists.txt
@@ -174,7 +174,7 @@
 
 install (TARGETS casa_tables
 RUNTIME DESTINATION bin
-LIBRARY DESTINATION lib
+LIBRARY DESTINATION ${LIBRARY_OUTPUT_PATH}
 ARCHIVE DESTINATION lib
 LIBRARY PERMISSIONS OWNER_READ OWNER_WRITE OWNER_EXECUTE GROUP_READ GROUP_EXECUTE WORLD_READ WORLD_EXECUTE
 )
