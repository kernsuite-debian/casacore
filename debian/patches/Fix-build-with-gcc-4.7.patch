Author: John Swinbank <swinbank@transientskp.org>
Date: Wed, 27 Jun 2012 14:54:10 +0200
Description: Fix build with gcc-4.7
Bug: http://code.google.com/p/casacore/issues/detail?id=51
Origin: upstream
--- a/casa/Arrays/IPosition.h
+++ b/casa/Arrays/IPosition.h
@@ -34,6 +34,7 @@
 #include <casa/BasicSL/String.h>
 #include <vector>
 #include <cstddef>                  // for ptrdiff_t
+#include <unistd.h>
 
 namespace casa { //# NAMESPACE CASA - BEGIN
 
--- a/casa/System/Casarc.cc
+++ b/casa/System/Casarc.cc
@@ -34,6 +34,7 @@
 #include <fcntl.h>
 #include <sys/mman.h>
 #include <cstdio>
+#include <unistd.h>
 
 #define USE_FLOCK 0
 #define CASARC_DEBUG 0
--- a/scimath/Mathematics/ConvolveGridder.tcc
+++ b/scimath/Mathematics/ConvolveGridder.tcc
@@ -305,11 +305,11 @@
 				    const Vector<Domain>& p,
 				    const Range& value)
 {
-  loc=location(loc,p);
+  loc=this->location(loc,p);
   loc-=offsetVec;
   if(onGrid(loc,supportVec)) {
     Bool del;
-    posVec=position(posVec, p);
+    posVec=this->position(posVec, p);
     const IPosition& fs = gridded.shape();
     vector<Int> s(fs.begin(), fs.end());
     switch(loc.nelements()) {
@@ -345,10 +345,10 @@
 				    const Vector<Domain>& p,
 				    Range& value)
 {
-  loc=location(loc,p); 
+  loc=this->location(loc,p);
  if(onGrid(loc,supportVec)) {
     Bool del;
-    posVec=position(posVec, p);
+    posVec=this->position(posVec, p);
     const IPosition& fs = gridded.shape();
     vector<Int> s(fs.begin(), fs.end());
     switch(loc.nelements()) {
